// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`generateOpenApiSchema > should generate proper schema 1`] = `
{
  "components": {
    "responses": {
      "ErrorResponse": {
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorObject",
            },
          },
        },
        "description": "Error response",
      },
    },
    "schemas": {
      "ErrorObject": {
        "additionalProperties": false,
        "properties": {
          "code": {
            "anyOf": [
              {
                "type": "string",
              },
              {
                "type": "null",
              },
            ],
          },
          "data": {},
          "message": {
            "type": "string",
          },
          "name": {
            "type": "string",
          },
          "statusCode": {
            "type": "number",
          },
        },
        "required": [
          "message",
          "name",
          "statusCode",
        ],
        "type": "object",
      },
      "anonymized.deca": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "date_debut_contrat": {
            "format": "date-time",
            "type": "string",
          },
          "date_effet_avenant": {
            "format": "date-time",
            "type": "string",
          },
          "date_effet_rupture": {
            "format": "date-time",
            "type": "string",
          },
          "date_fin_contrat": {
            "format": "date-time",
            "type": "string",
          },
          "date_suppression": {
            "format": "date-time",
            "type": "string",
          },
          "dispositif": {
            "type": "string",
          },
          "employeur": {
            "additionalProperties": false,
            "properties": {
              "adresse": {
                "additionalProperties": false,
                "properties": {
                  "code_postal": {
                    "type": "string",
                  },
                },
                "required": [
                  "code_postal",
                ],
                "type": "object",
              },
              "code_idcc": {
                "type": "string",
              },
              "denomination": {
                "type": "string",
              },
              "naf": {
                "type": "string",
              },
              "nombre_de_salaries": {
                "anyOf": [
                  {
                    "type": "number",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "siret": {
                "type": "string",
              },
            },
            "type": "object",
          },
          "employeur_specifique": {
            "type": "number",
          },
          "etablissement_formation": {
            "additionalProperties": false,
            "properties": {
              "siret": {
                "pattern": "^\\d{14}$",
                "type": "string",
              },
            },
            "type": "object",
          },
          "flag_correction": {
            "type": "boolean",
          },
          "formation": {
            "additionalProperties": false,
            "properties": {
              "code_diplome": {
                "type": "string",
              },
              "date_debut_formation": {
                "format": "date-time",
                "type": "string",
              },
              "date_fin_formation": {
                "format": "date-time",
                "type": "string",
              },
              "intitule_ou_qualification": {
                "type": "string",
              },
              "rncp": {
                "type": "string",
              },
              "type_diplome": {
                "type": "string",
              },
            },
            "type": "object",
          },
          "no_avenant": {
            "type": "string",
          },
          "no_contrat": {
            "type": "string",
          },
          "organisme_formation": {
            "additionalProperties": false,
            "properties": {
              "siret": {
                "type": "string",
              },
              "uai_cfa": {
                "type": "string",
              },
            },
            "type": "object",
          },
          "rupture_avant_debut": {
            "type": "boolean",
          },
          "statut": {
            "type": "string",
          },
          "type_contrat": {
            "type": "string",
          },
          "type_derogation": {
            "type": "number",
          },
          "type_employeur": {
            "type": "number",
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "no_contrat",
          "date_debut_contrat",
          "date_fin_contrat",
          "formation",
          "updated_at",
          "created_at",
          "employeur",
        ],
        "type": "object",
      },
      "bouncer.domain": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "domain": {
            "type": "string",
          },
          "ping": {
            "anyOf": [
              {
                "additionalProperties": false,
                "properties": {
                  "message": {
                    "type": "string",
                  },
                  "responseCode": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "responseMessage": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "status": {
                    "enum": [
                      "valid",
                      "invalid",
                      "not_supported",
                      "error",
                    ],
                    "type": "string",
                  },
                },
                "required": [
                  "status",
                  "message",
                  "responseCode",
                  "responseMessage",
                ],
                "type": "object",
              },
              {
                "type": "null",
              },
            ],
          },
          "smtp": {
            "type": "string",
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "domain",
          "smtp",
          "ping",
          "updated_at",
          "created_at",
        ],
        "type": "object",
      },
      "bouncer.email": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "domain": {
            "anyOf": [
              {
                "type": "string",
              },
              {
                "type": "null",
              },
            ],
          },
          "email": {
            "type": "string",
          },
          "ping": {
            "additionalProperties": false,
            "properties": {
              "message": {
                "type": "string",
              },
              "responseCode": {
                "anyOf": [
                  {
                    "type": "string",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "responseMessage": {
                "anyOf": [
                  {
                    "type": "string",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "status": {
                "enum": [
                  "valid",
                  "invalid",
                  "not_supported",
                  "error",
                ],
                "type": "string",
              },
            },
            "required": [
              "status",
              "message",
              "responseCode",
              "responseMessage",
            ],
            "type": "object",
          },
          "smtp": {
            "anyOf": [
              {
                "type": "string",
              },
              {
                "type": "null",
              },
            ],
          },
          "ttl": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string",
              },
              {
                "type": "null",
              },
            ],
          },
        },
        "required": [
          "_id",
          "email",
          "domain",
          "smtp",
          "ping",
          "created_at",
          "ttl",
        ],
        "type": "object",
      },
      "deca": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "alternant": {
            "additionalProperties": false,
            "properties": {
              "adresse": {
                "additionalProperties": false,
                "properties": {
                  "code_postal": {
                    "type": "string",
                  },
                  "numero": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "voie": {
                    "type": "string",
                  },
                },
                "type": "object",
              },
              "courriel": {
                "type": "string",
              },
              "date_naissance": {
                "format": "date-time",
                "type": "string",
              },
              "departement_naissance": {
                "type": "string",
              },
              "derniere_classe": {
                "anyOf": [
                  {
                    "type": "number",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "handicap": {
                "type": "boolean",
              },
              "nationalite": {
                "type": "number",
              },
              "nom": {
                "type": "string",
              },
              "prenom": {
                "type": "string",
              },
              "sexe": {
                "anyOf": [
                  {
                    "type": "string",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "telephone": {
                "type": "string",
              },
            },
            "required": [
              "nom",
              "date_naissance",
            ],
            "type": "object",
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "date_debut_contrat": {
            "format": "date-time",
            "type": "string",
          },
          "date_effet_avenant": {
            "format": "date-time",
            "type": "string",
          },
          "date_effet_rupture": {
            "format": "date-time",
            "type": "string",
          },
          "date_fin_contrat": {
            "format": "date-time",
            "type": "string",
          },
          "date_suppression": {
            "format": "date-time",
            "type": "string",
          },
          "dispositif": {
            "type": "string",
          },
          "employeur": {
            "additionalProperties": false,
            "properties": {
              "adresse": {
                "additionalProperties": false,
                "properties": {
                  "code_postal": {
                    "type": "string",
                  },
                },
                "required": [
                  "code_postal",
                ],
                "type": "object",
              },
              "code_idcc": {
                "type": "string",
              },
              "courriel": {
                "type": "string",
              },
              "denomination": {
                "type": "string",
              },
              "naf": {
                "type": "string",
              },
              "nombre_de_salaries": {
                "anyOf": [
                  {
                    "type": "number",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "siret": {
                "type": "string",
              },
              "telephone": {
                "type": "string",
              },
            },
            "type": "object",
          },
          "employeur_specifique": {
            "type": "number",
          },
          "etablissement_formation": {
            "additionalProperties": false,
            "properties": {
              "siret": {
                "pattern": "^\\d{14}$",
                "type": "string",
              },
            },
            "type": "object",
          },
          "flag_correction": {
            "type": "boolean",
          },
          "formation": {
            "additionalProperties": false,
            "properties": {
              "code_diplome": {
                "type": "string",
              },
              "date_debut_formation": {
                "format": "date-time",
                "type": "string",
              },
              "date_fin_formation": {
                "format": "date-time",
                "type": "string",
              },
              "intitule_ou_qualification": {
                "type": "string",
              },
              "rncp": {
                "type": "string",
              },
              "type_diplome": {
                "type": "string",
              },
            },
            "type": "object",
          },
          "no_avenant": {
            "type": "string",
          },
          "no_contrat": {
            "type": "string",
          },
          "organisme_formation": {
            "additionalProperties": false,
            "properties": {
              "siret": {
                "type": "string",
              },
              "uai_cfa": {
                "type": "string",
              },
            },
            "type": "object",
          },
          "rupture_avant_debut": {
            "type": "boolean",
          },
          "statut": {
            "type": "string",
          },
          "type_contrat": {
            "type": "string",
          },
          "type_derogation": {
            "type": "number",
          },
          "type_employeur": {
            "type": "number",
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "no_contrat",
          "date_debut_contrat",
          "date_fin_contrat",
          "alternant",
          "formation",
          "employeur",
          "updated_at",
          "created_at",
        ],
        "type": "object",
      },
      "deca.import.job.result": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "has_completed": {
            "type": "boolean",
          },
          "import_date": {
            "format": "date-time",
            "type": "string",
          },
          "import_date_string": {
            "type": "string",
          },
        },
        "required": [
          "_id",
          "import_date_string",
          "import_date",
          "has_completed",
          "created_at",
        ],
        "type": "object",
      },
      "decaHistory": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "deca_id": {},
          "from": {},
          "key": {
            "type": "string",
          },
          "time": {
            "format": "date-time",
            "type": "string",
          },
          "to": {},
        },
        "required": [
          "_id",
          "key",
          "deca_id",
          "time",
        ],
        "type": "object",
      },
      "documentContents": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "content": {
            "additionalProperties": {},
            "propertyNames": {
              "type": "string",
            },
            "type": "object",
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "document_id": {
            "type": "string",
          },
          "type_document": {
            "type": "string",
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "document_id",
        ],
        "type": "object",
      },
      "documents": {
        "anyOf": [
          {
            "additionalProperties": false,
            "properties": {
              "_id": {},
              "added_by": {
                "type": "string",
              },
              "chemin_fichier": {
                "type": "string",
              },
              "columns": {
                "anyOf": [
                  {
                    "items": {
                      "type": "string",
                    },
                    "type": "array",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "created_at": {
                "format": "date-time",
                "type": "string",
              },
              "delimiter": {
                "anyOf": [
                  {
                    "type": "string",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "ext_fichier": {
                "enum": [
                  "xlsx",
                  "xls",
                  "csv",
                ],
                "type": "string",
              },
              "hash_fichier": {
                "type": "string",
              },
              "hash_secret": {
                "type": "string",
              },
              "import_progress": {
                "anyOf": [
                  {
                    "type": "number",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "job_error": {
                "anyOf": [
                  {
                    "type": "string",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "job_id": {
                "anyOf": [
                  {
                    "type": "string",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "job_status": {
                "enum": [
                  "pending",
                  "paused",
                  "importing",
                  "done",
                  "error",
                ],
                "type": "string",
              },
              "kind": {
                "const": "upload",
                "type": "string",
              },
              "lines_count": {
                "anyOf": [
                  {
                    "type": "integer",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "nom_fichier": {
                "type": "string",
              },
              "taille_fichier": {
                "type": "integer",
              },
              "type_document": {
                "type": "string",
              },
              "updated_at": {
                "anyOf": [
                  {
                    "format": "date-time",
                    "type": "string",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
            },
            "required": [
              "_id",
              "kind",
              "type_document",
              "ext_fichier",
              "nom_fichier",
              "chemin_fichier",
              "taille_fichier",
              "hash_secret",
              "hash_fichier",
              "added_by",
              "created_at",
              "job_status",
            ],
            "type": "object",
          },
          {
            "additionalProperties": false,
            "properties": {
              "_id": {},
              "added_by": {
                "type": "string",
              },
              "chemin_fichier": {
                "type": "string",
              },
              "created_at": {
                "format": "date-time",
                "type": "string",
              },
              "ext_fichier": {
                "enum": [
                  "xlsx",
                  "xls",
                  "csv",
                ],
                "type": "string",
              },
              "hash_fichier": {
                "type": "string",
              },
              "hash_secret": {
                "type": "string",
              },
              "job_id": {
                "anyOf": [
                  {
                    "type": "string",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "job_status": {
                "enum": [
                  "pending",
                  "paused",
                  "processing",
                  "done",
                  "error",
                ],
                "type": "string",
              },
              "kind": {
                "const": "mailingList",
                "type": "string",
              },
              "lines_count": {
                "type": "integer",
              },
              "nom_fichier": {
                "type": "string",
              },
              "process_progress": {
                "type": "number",
              },
              "taille_fichier": {
                "type": "integer",
              },
              "type_document": {
                "type": "string",
              },
              "updated_at": {
                "format": "date-time",
                "type": "string",
              },
            },
            "required": [
              "_id",
              "kind",
              "type_document",
              "ext_fichier",
              "nom_fichier",
              "chemin_fichier",
              "taille_fichier",
              "hash_secret",
              "hash_fichier",
              "added_by",
              "created_at",
              "job_status",
            ],
            "type": "object",
          },
        ],
      },
      "emailDenied": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "email": {
            "type": "string",
          },
          "reason": {
            "const": "unsubscribe",
            "type": "string",
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "email",
          "reason",
          "created_at",
        ],
        "type": "object",
      },
      "events": {
        "anyOf": [
          {
            "additionalProperties": false,
            "properties": {
              "_id": {},
              "created_at": {
                "format": "date-time",
                "type": "string",
              },
              "delivered_at": {
                "anyOf": [
                  {
                    "format": "date-time",
                    "type": "string",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "errors": {
                "items": {
                  "additionalProperties": false,
                  "properties": {
                    "message": {
                      "type": "string",
                    },
                    "type": {
                      "enum": [
                        "fatal",
                        "soft_bounce",
                        "hard_bounce",
                        "complaint",
                        "invalid_email",
                        "blocked",
                        "error",
                      ],
                      "type": "string",
                    },
                  },
                  "type": "object",
                },
                "type": "array",
              },
              "messageId": {
                "anyOf": [
                  {
                    "type": "string",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "opened_at": {
                "anyOf": [
                  {
                    "format": "date-time",
                    "type": "string",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "template": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "name": {
                        "const": "reset_password",
                        "type": "string",
                      },
                      "resetPasswordToken": {
                        "type": "string",
                      },
                      "to": {
                        "format": "email",
                        "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$",
                        "type": "string",
                      },
                    },
                    "required": [
                      "name",
                      "to",
                      "resetPasswordToken",
                    ],
                    "type": "object",
                  },
                ],
              },
              "type": {
                "const": "email.bal",
                "type": "string",
              },
              "updated_at": {
                "format": "date-time",
                "type": "string",
              },
            },
            "required": [
              "_id",
              "type",
              "template",
              "created_at",
              "updated_at",
              "opened_at",
              "delivered_at",
              "messageId",
              "errors",
            ],
            "type": "object",
          },
        ],
      },
      "lba.emailblacklists": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "blacklisting_origin": {
            "type": "string",
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "email": {
            "format": "email",
            "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$",
            "type": "string",
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "email",
          "blacklisting_origin",
          "created_at",
          "updated_at",
        ],
        "type": "object",
      },
      "mailingList.computed": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "data": {
            "additionalProperties": {
              "type": "string",
            },
            "propertyNames": {
              "type": "string",
            },
            "type": "object",
          },
          "email": {
            "type": "string",
          },
          "email_status": {
            "enum": [
              "empty",
              "invalid",
              "blacklisted",
              "valid",
            ],
            "type": "string",
          },
          "line_number": {
            "type": "number",
          },
          "mailing_list_id": {},
          "ttl": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "mailing_list_id",
          "line_number",
          "email",
          "data",
          "email_status",
          "ttl",
        ],
        "type": "object",
      },
      "mailingList.source": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "data": {
            "additionalProperties": {
              "type": "string",
            },
            "propertyNames": {
              "type": "string",
            },
            "type": "object",
          },
          "line_number": {
            "type": "number",
          },
          "mailing_list_id": {},
          "ttl": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "mailing_list_id",
          "line_number",
          "data",
          "ttl",
        ],
        "type": "object",
      },
      "mailingLists": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "added_by": {
            "type": "string",
          },
          "campaign_name": {
            "type": "string",
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "document_id": {
            "type": "string",
          },
          "email": {
            "type": "string",
          },
          "identifier_columns": {
            "items": {
              "type": "string",
            },
            "type": "array",
          },
          "output_columns": {
            "items": {
              "additionalProperties": false,
              "properties": {
                "column": {
                  "type": "string",
                },
                "output": {
                  "type": "string",
                },
                "simple": {
                  "type": "boolean",
                },
              },
              "required": [
                "column",
                "output",
                "simple",
              ],
              "type": "object",
            },
            "type": "array",
          },
          "secondary_email": {
            "type": "string",
          },
          "source": {
            "type": "string",
          },
          "training_columns": {
            "additionalProperties": false,
            "properties": {
              "cfd": {
                "type": "string",
              },
              "cle_ministere_educatif": {
                "type": "string",
              },
              "code_insee": {
                "type": "string",
              },
              "code_postal": {
                "type": "string",
              },
              "mef": {
                "type": "string",
              },
              "rncp": {
                "type": "string",
              },
              "uai_formateur": {
                "type": "string",
              },
              "uai_formateur_responsable": {
                "type": "string",
              },
              "uai_lieu_formation": {
                "type": "string",
              },
            },
            "type": "object",
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "campaign_name",
          "source",
          "email",
          "identifier_columns",
          "output_columns",
          "training_columns",
          "added_by",
          "updated_at",
          "created_at",
        ],
        "type": "object",
      },
      "mailingListsV2": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "added_by": {},
          "config": {
            "additionalProperties": false,
            "properties": {
              "email_column": {
                "type": "string",
              },
              "lba_columns": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "cfd": {
                        "type": "string",
                      },
                      "cle_ministere_educatif": {
                        "type": "string",
                      },
                      "code_insee": {
                        "type": "string",
                      },
                      "code_postal": {
                        "type": "string",
                      },
                      "mef": {
                        "type": "string",
                      },
                      "rncp": {
                        "type": "string",
                      },
                      "uai_formateur": {
                        "type": "string",
                      },
                      "uai_formateur_responsable": {
                        "type": "string",
                      },
                      "uai_lieu_formation": {
                        "type": "string",
                      },
                    },
                    "required": [
                      "cle_ministere_educatif",
                      "mef",
                      "cfd",
                      "rncp",
                      "code_postal",
                      "uai_lieu_formation",
                      "uai_formateur",
                      "uai_formateur_responsable",
                      "code_insee",
                    ],
                    "type": "object",
                  },
                  {
                    "type": "null",
                  },
                ],
              },
              "output_columns": {
                "items": {
                  "additionalProperties": false,
                  "properties": {
                    "input": {
                      "anyOf": [
                        {
                          "additionalProperties": false,
                          "properties": {
                            "name": {
                              "type": "string",
                            },
                            "type": {
                              "const": "source",
                              "type": "string",
                            },
                          },
                          "required": [
                            "type",
                            "name",
                          ],
                          "type": "object",
                        },
                        {
                          "additionalProperties": false,
                          "properties": {
                            "name": {
                              "enum": [
                                "WEBHOOK_LBA",
                                "BOUNCER",
                              ],
                              "type": "string",
                            },
                            "type": {
                              "const": "computed",
                              "type": "string",
                            },
                          },
                          "required": [
                            "type",
                            "name",
                          ],
                          "type": "object",
                        },
                      ],
                    },
                    "output": {
                      "type": "string",
                    },
                    "simple": {
                      "type": "boolean",
                    },
                  },
                  "required": [
                    "input",
                    "output",
                    "simple",
                  ],
                  "type": "object",
                },
                "type": "array",
              },
            },
            "required": [
              "email_column",
              "output_columns",
              "lba_columns",
            ],
            "type": "object",
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "encode_key": {
            "type": "string",
          },
          "error": {
            "anyOf": [
              {
                "type": "string",
              },
              {
                "type": "null",
              },
            ],
          },
          "eta": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string",
              },
              {
                "type": "null",
              },
            ],
          },
          "job_id": {
            "anyOf": [
              {},
              {
                "type": "null",
              },
            ],
          },
          "name": {
            "type": "string",
          },
          "output": {
            "additionalProperties": false,
            "properties": {
              "blacklisted_email_count": {
                "type": "number",
              },
              "empty_source_lines": {
                "type": "number",
              },
              "invalid_email_count": {
                "type": "number",
              },
              "lines": {
                "type": "number",
              },
            },
            "required": [
              "lines",
              "empty_source_lines",
              "blacklisted_email_count",
              "invalid_email_count",
            ],
            "type": "object",
          },
          "progress": {
            "additionalProperties": false,
            "properties": {
              "export": {
                "type": "integer",
              },
              "generate": {
                "type": "integer",
              },
              "parse": {
                "type": "integer",
              },
            },
            "required": [
              "parse",
              "generate",
              "export",
            ],
            "type": "object",
          },
          "source": {
            "additionalProperties": false,
            "properties": {
              "columns": {
                "items": {
                  "type": "string",
                },
                "type": "array",
              },
              "file": {
                "additionalProperties": false,
                "properties": {
                  "delimiter": {
                    "type": "string",
                  },
                  "hash_fichier": {
                    "type": "string",
                  },
                  "size": {
                    "type": "number",
                  },
                },
                "required": [
                  "hash_fichier",
                  "delimiter",
                  "size",
                ],
                "type": "object",
              },
              "lines": {
                "type": "number",
              },
            },
            "required": [
              "file",
              "lines",
              "columns",
            ],
            "type": "object",
          },
          "status": {
            "enum": [
              "initial",
              "parse:scheduled",
              "parse:in_progress",
              "parse:failure",
              "parse:success",
              "generate:scheduled",
              "generate:in_progress",
              "generate:failure",
              "generate:success",
              "export:scheduled",
              "export:in_progress",
              "export:failure",
              "export:success",
            ],
            "type": "string",
          },
          "ttl": {
            "format": "date-time",
            "type": "string",
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "name",
          "source",
          "config",
          "status",
          "error",
          "eta",
          "progress",
          "output",
          "job_id",
          "ttl",
          "encode_key",
          "added_by",
          "updated_at",
          "created_at",
        ],
        "type": "object",
      },
      "organisations": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "email_domain": {
            "type": "string",
          },
          "siren": {
            "type": "string",
          },
          "source": {
            "type": "string",
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "siren",
          "email_domain",
          "source",
        ],
        "type": "object",
      },
      "persons": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "email": {
            "type": "string",
          },
          "siret": {
            "type": "string",
          },
          "source": {
            "type": "string",
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "email",
          "siret",
          "source",
          "updated_at",
          "created_at",
        ],
        "type": "object",
      },
      "sessions": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "expires_at": {
            "format": "date-time",
            "type": "string",
          },
          "token": {
            "type": "string",
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "token",
          "updated_at",
          "created_at",
          "expires_at",
        ],
        "type": "object",
      },
      "users": {
        "additionalProperties": false,
        "properties": {
          "_id": {},
          "api_key": {
            "anyOf": [
              {
                "type": "string",
              },
              {
                "type": "null",
              },
            ],
          },
          "api_key_used_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string",
              },
              {
                "type": "null",
              },
            ],
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
          },
          "email": {
            "format": "email",
            "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$",
            "type": "string",
          },
          "is_admin": {
            "type": "boolean",
          },
          "is_support": {
            "type": "boolean",
          },
          "password": {
            "type": "string",
          },
          "updated_at": {
            "format": "date-time",
            "type": "string",
          },
        },
        "required": [
          "_id",
          "email",
          "password",
          "is_admin",
          "is_support",
          "api_key",
          "api_key_used_at",
          "updated_at",
          "created_at",
        ],
        "type": "object",
      },
    },
    "securitySchemes": {
      "api-key": {
        "bearerFormat": "Bearer",
        "scheme": "bearer",
        "type": "http",
      },
    },
  },
  "info": {
    "contact": {
      "email": "labonnealternance@apprentissage.beta.gouv.fr",
      "name": "La bonne alternance",
    },
    "license": {
      "name": "Etalab-2.0",
      "url": "https://github.com/etalab/licence-ouverte/blob/master/LO.md",
    },
    "termsOfService": "https://bal.apprentissage.beta.gouv.fr/cgu",
    "title": "Documentation technique",
    "version": "V1.0",
  },
  "openapi": "3.1.0",
  "paths": {
    "/healthcheck": {
      "get": {
        "operationId": "get_healthcheck",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "env": {
                      "enum": [
                        "local",
                        "recette",
                        "production",
                        "preview",
                        "test",
                      ],
                      "type": "string",
                    },
                    "name": {
                      "type": "string",
                    },
                    "version": {
                      "type": "string",
                    },
                  },
                  "required": [
                    "name",
                    "version",
                    "env",
                  ],
                  "type": "object",
                },
              },
            },
            "description": "",
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "404": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "409": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "419": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "502": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "503": {
            "$ref": "#/components/responses/ErrorResponse",
          },
        },
        "security": [],
        "tags": [
          "system",
        ],
      },
    },
    "/v1/bouncer/check": {
      "post": {
        "operationId": "post_v1_bouncer_check",
        "parameters": [
          {
            "in": "header",
            "name": "Authorization",
            "required": false,
            "schema": {
              "type": "string",
            },
          },
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "properties": {
                    "email": {
                      "format": "email",
                      "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$",
                      "type": "string",
                    },
                  },
                  "required": [
                    "email",
                  ],
                  "type": "object",
                },
                "type": "array",
              },
            },
          },
          "required": true,
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": false,
                    "properties": {
                      "email": {
                        "format": "email",
                        "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$",
                        "type": "string",
                      },
                      "status": {
                        "enum": [
                          "valid",
                          "invalid",
                          "unknown",
                          "queued",
                        ],
                        "type": "string",
                      },
                    },
                    "required": [
                      "email",
                      "status",
                    ],
                    "type": "object",
                  },
                  "type": "array",
                },
              },
            },
            "description": "",
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "404": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "409": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "419": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "502": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "503": {
            "$ref": "#/components/responses/ErrorResponse",
          },
        },
        "security": [
          {
            "api-key": [],
          },
        ],
        "tags": [
          "v1",
        ],
      },
    },
    "/v1/deca/search/organisme": {
      "post": {
        "operationId": "post_v1_deca_search_organisme",
        "parameters": [
          {
            "in": "header",
            "name": "Authorization",
            "required": false,
            "schema": {
              "type": "string",
            },
          },
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "siret": {
                    "pattern": "^\\d{14}$",
                    "type": "string",
                  },
                },
                "required": [
                  "siret",
                ],
                "type": "object",
              },
            },
          },
          "required": true,
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": false,
                  "properties": {
                    "contrats": {
                      "additionalProperties": false,
                      "properties": {
                        "appr": {
                          "type": "number",
                        },
                        "prof": {
                          "type": "number",
                        },
                        "total": {
                          "type": "number",
                        },
                      },
                      "required": [
                        "total",
                        "appr",
                        "prof",
                      ],
                      "type": "object",
                    },
                    "dernier_contrat": {
                      "anyOf": [
                        {
                          "additionalProperties": false,
                          "properties": {
                            "date_debut_contrat": {
                              "format": "date-time",
                              "type": "string",
                            },
                            "date_fin_contrat": {
                              "format": "date-time",
                              "type": "string",
                            },
                          },
                          "type": "object",
                        },
                        {
                          "type": "null",
                        },
                      ],
                    },
                    "premier_contrat": {
                      "anyOf": [
                        {
                          "additionalProperties": false,
                          "properties": {
                            "date_debut_contrat": {
                              "format": "date-time",
                              "type": "string",
                            },
                            "date_fin_contrat": {
                              "format": "date-time",
                              "type": "string",
                            },
                          },
                          "type": "object",
                        },
                        {
                          "type": "null",
                        },
                      ],
                    },
                  },
                  "required": [
                    "contrats",
                  ],
                  "type": "object",
                },
              },
            },
            "description": "",
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "404": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "409": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "419": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "502": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "503": {
            "$ref": "#/components/responses/ErrorResponse",
          },
        },
        "security": [
          {
            "api-key": [],
          },
        ],
        "tags": [
          "v1",
        ],
      },
    },
    "/v1/organisation/validation": {
      "post": {
        "operationId": "post_v1_organisation_validation",
        "parameters": [
          {
            "in": "header",
            "name": "Authorization",
            "required": false,
            "schema": {
              "type": "string",
            },
          },
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "email": {
                    "format": "email",
                    "type": "string",
                  },
                  "siret": {
                    "pattern": "^\\d{14}$",
                    "type": "string",
                  },
                },
                "required": [
                  "email",
                  "siret",
                ],
                "type": "object",
              },
            },
          },
          "required": true,
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "additionalProperties": false,
                      "properties": {
                        "is_valid": {
                          "const": true,
                          "type": "boolean",
                        },
                        "on": {
                          "enum": [
                            "email",
                            "domain",
                          ],
                          "type": "string",
                        },
                        "sources": {
                          "items": {
                            "type": "string",
                          },
                          "type": "array",
                        },
                      },
                      "required": [
                        "is_valid",
                        "sources",
                      ],
                      "type": "object",
                    },
                    {
                      "additionalProperties": false,
                      "properties": {
                        "is_company_email": {
                          "type": "boolean",
                        },
                        "is_valid": {
                          "const": false,
                          "type": "boolean",
                        },
                      },
                      "required": [
                        "is_valid",
                        "is_company_email",
                      ],
                      "type": "object",
                    },
                  ],
                },
              },
            },
            "description": "",
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "404": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "409": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "419": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "502": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "503": {
            "$ref": "#/components/responses/ErrorResponse",
          },
        },
        "security": [
          {
            "api-key": [],
          },
        ],
        "tags": [
          "v1",
        ],
      },
    },
    "/v1/webhooks/brevo/hardbounce": {
      "post": {
        "operationId": "post_v1_webhooks_brevo_hardbounce",
        "parameters": [
          {
            "allowEmptyValue": true,
            "in": "query",
            "name": "apiKey",
            "required": true,
            "schema": {
              "type": "string",
            },
          },
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "URL": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "X-Mailin-custom": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "camp_id": {
                    "anyOf": [
                      {
                        "type": "number",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "campaign_name": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "content": {
                    "anyOf": [
                      {
                        "items": {
                          "type": "string",
                        },
                        "type": "array",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "date": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "date_event": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "date_sent": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "email": {
                    "type": "string",
                  },
                  "event": {
                    "type": "string",
                  },
                  "id": {
                    "type": "number",
                  },
                  "is_returnpath": {
                    "anyOf": [
                      {
                        "type": "boolean",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "key": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "link": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "list_id": {
                    "anyOf": [
                      {
                        "items": {
                          "type": "number",
                        },
                        "type": "array",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "message-id": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "reason": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "sender_email": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "sending_ip": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "subject": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "tag": {
                    "anyOf": [
                      {
                        "type": "string",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "tags": {
                    "anyOf": [
                      {
                        "items": {
                          "type": "string",
                        },
                        "type": "array",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "template_id": {
                    "anyOf": [
                      {
                        "type": "number",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "ts": {
                    "type": "number",
                  },
                  "ts_epoch": {
                    "anyOf": [
                      {
                        "type": "number",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "ts_event": {
                    "anyOf": [
                      {
                        "type": "number",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                  "ts_sent": {
                    "anyOf": [
                      {
                        "type": "number",
                      },
                      {
                        "type": "null",
                      },
                    ],
                  },
                },
                "required": [
                  "event",
                  "email",
                  "id",
                  "ts",
                ],
                "type": "object",
              },
            },
          },
          "required": true,
        },
        "responses": {
          "204": {
            "content": {
              "application/json": {
                "schema": {},
              },
            },
            "description": "",
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "404": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "409": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "419": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "502": {
            "$ref": "#/components/responses/ErrorResponse",
          },
          "503": {
            "$ref": "#/components/responses/ErrorResponse",
          },
        },
        "security": [
          {
            "brevo-api-key": [],
          },
        ],
        "tags": [
          "v1",
        ],
      },
    },
  },
  "servers": [
    {
      "description": "Production",
      "url": "https://bal.apprentissage.beta.gouv.fr",
    },
  ],
}
`;
